import { DoctorCardData } from '../components/DoctorCard';

export const diseaseToSpecialization: Record<string, string[]> = {
  'heart attack': ['Cardiologist'],
  'chest pain': ['Cardiologist'],
  'hypertension': ['Cardiologist', 'General Practitioner'],
  'high blood pressure': ['Cardiologist', 'General Practitioner'],
  'diabetes': ['Endocrinologist', 'General Practitioner'],
  'sugar': ['Endocrinologist', 'General Practitioner'],
  'thyroid': ['Endocrinologist'],
  'skin rash': ['Dermatologist'],
  'acne': ['Dermatologist'],
  'eczema': ['Dermatologist'],
  'psoriasis': ['Dermatologist'],
  'hair loss': ['Dermatologist'],
  'joint pain': ['Orthopedic Surgeon', 'Rheumatologist'],
  'arthritis': ['Rheumatologist', 'Orthopedic Surgeon'],
  'back pain': ['Orthopedic Surgeon'],
  'fracture': ['Orthopedic Surgeon'],
  'broken bone': ['Orthopedic Surgeon'],
  'headache': ['Neurologist', 'General Practitioner'],
  'migraine': ['Neurologist'],
  'seizure': ['Neurologist'],
  'paralysis': ['Neurologist'],
  'stroke': ['Neurologist'],
  'fever': ['General Practitioner'],
  'cold': ['General Practitioner'],
  'cough': ['General Practitioner', 'Pulmonologist'],
  'flu': ['General Practitioner'],
  'stomach pain': ['Gastroenterologist', 'General Practitioner'],
  'acidity': ['Gastroenterologist'],
  'constipation': ['Gastroenterologist'],
  'diarrhea': ['Gastroenterologist'],
  'liver': ['Gastroenterologist', 'Hepatologist'],
  'kidney stone': ['Urologist', 'Nephrologist'],
  'urinary infection': ['Urologist'],
  'kidney disease': ['Nephrologist'],
  'asthma': ['Pulmonologist'],
  'breathing problem': ['Pulmonologist'],
  'pneumonia': ['Pulmonologist'],
  'tuberculosis': ['Pulmonologist'],
  'tb': ['Pulmonologist'],
  'depression': ['Psychiatrist'],
  'anxiety': ['Psychiatrist'],
  'stress': ['Psychiatrist'],
  'mental health': ['Psychiatrist'],
  'eye problem': ['Ophthalmologist'],
  'vision': ['Ophthalmologist'],
  'cataract': ['Ophthalmologist'],
  'glaucoma': ['Ophthalmologist'],
  'ear problem': ['ENT Specialist'],
  'nose problem': ['ENT Specialist'],
  'throat problem': ['ENT Specialist'],
  'tonsils': ['ENT Specialist'],
  'sinusitis': ['ENT Specialist'],
  'pregnancy': ['Gynecologist'],
  'menstrual': ['Gynecologist'],
  'pcod': ['Gynecologist', 'Endocrinologist'],
  'pcos': ['Gynecologist', 'Endocrinologist'],
  'infertility': ['Gynecologist'],
  'child fever': ['Pediatrician'],
  'child cough': ['Pediatrician'],
  'vaccination': ['Pediatrician'],
  'cancer': ['Oncologist'],
  'tumor': ['Oncologist'],
  'chemotherapy': ['Oncologist'],
};

export const mockDoctors: DoctorCardData[] = [
  {
    id: '1',
    name: 'Dr. Rajesh Kumar',
    specialization: 'Cardiologist',
    hospital: 'Apollo Heart Institute',
    rating: 4.8,
    distance: '1.2 km',
    reviewCount: 345,
    photoUrl: require('../assets/images/Gemini_Generated_Image_g7c9efg7c9efg7c9.png'),
  },
  {
    id: '2',
    name: 'Dr. Priya Sharma',
    specialization: 'Dermatologist',
    hospital: 'Skin Care Clinic Mumbai',
    rating: 4.7,
    distance: '2.1 km',
    reviewCount: 289,
    photoUrl: require('../assets/images/Gemini_Generated_Image_264ied264ied264i.png'),
  },
  {
    id: '3',
    name: 'Dr. Amit Patel',
    specialization: 'General Practitioner',
    hospital: 'Fortis City Hospital',
    rating: 4.9,
    distance: '0.8 km',
    reviewCount: 512,
    photoUrl: require('../assets/images/Gemini_Generated_Image_g7c9efg7c9efg7c9.png'),
  },
  {
    id: '4',
    name: 'Dr. Sunita Reddy',
    specialization: 'Orthopedic Surgeon',
    hospital: 'Bone & Joint Care Center',
    rating: 4.6,
    distance: '3.4 km',
    reviewCount: 256,
    photoUrl: require('../assets/images/Gemini_Generated_Image_yfsoo9yfsoo9yfso.png'),
  },
  {
    id: '5',
    name: 'Dr. Vikram Singh',
    specialization: 'Ophthalmologist',
    hospital: 'Max Vision Care Delhi',
    rating: 4.5,
    distance: '1.9 km',
    reviewCount: 178,
    photoUrl: require('../assets/images/Gemini_Generated_Image_qnnooiqnnooiqnno.png'),
  },
  {
    id: '6',
    name: 'Dr. Anjali Verma',
    specialization: 'Neurologist',
    hospital: 'Manipal Neuro Centre',
    rating: 4.9,
    distance: '4.2 km',
    reviewCount: 193,
    photoUrl: require('../assets/images/Gemini_Generated_Image_264ied264ied264i.png'),
  },
  {
    id: '7',
    name: 'Dr. Arjun Menon',
    specialization: 'Pediatrician',
    hospital: 'Rainbow Children Hospital',
    rating: 4.8,
    distance: '2.6 km',
    reviewCount: 367,
    photoUrl: require('../assets/images/Gemini_Generated_Image_g7c9efg7c9efg7c9.png'),
  },
  {
    id: '8',
    name: 'Dr. Kavita Desai',
    specialization: 'Gastroenterologist',
    hospital: 'Medanta Digestive Care',
    rating: 4.6,
    distance: '1.5 km',
    reviewCount: 224,
    photoUrl: require('../assets/images/Gemini_Generated_Image_yfsoo9yfsoo9yfso.png'),
  },
  {
    id: '9',
    name: 'Dr. Rohan Kapoor',
    specialization: 'Psychiatrist',
    hospital: 'Mind Wellness Clinic Bangalore',
    rating: 4.7,
    distance: '3.1 km',
    reviewCount: 301,
    photoUrl: require('../assets/images/Gemini_Generated_Image_g7c9efg7c9efg7c9.png'),
  },
  {
    id: '10',
    name: 'Dr. Meera Nair',
    specialization: 'Cardiologist',
    hospital: 'Narayana Heart Hospital',
    rating: 4.8,
    distance: '2.8 km',
    reviewCount: 423,
    photoUrl: require('../assets/images/Gemini_Generated_Image_264ied264ied264i.png'),
  },
  {
    id: '11',
    name: 'Dr. Sanjay Gupta',
    specialization: 'Rheumatologist',
    hospital: 'Arthritis Care Centre Pune',
    rating: 4.5,
    distance: '3.9 km',
    reviewCount: 167,
    photoUrl: require('../assets/images/Gemini_Generated_Image_qnnooiqnnooiqnno.png'),
  },
  {
    id: '12',
    name: 'Dr. Neha Joshi',
    specialization: 'Urologist',
    hospital: 'Lilavati Urology Center',
    rating: 4.6,
    distance: '2.3 km',
    reviewCount: 195,
    photoUrl: require('../assets/images/Gemini_Generated_Image_264ied264ied264i.png'),
  },
  {
    id: '13',
    name: 'Dr. Ravi Krishnan',
    specialization: 'Endocrinologist',
    hospital: 'Diabetes & Hormone Care Chennai',
    rating: 4.7,
    distance: '1.7 km',
    reviewCount: 278,
    photoUrl: require('../assets/images/Gemini_Generated_Image_qnnooiqnnooiqnno.png'),
  },
  {
    id: '14',
    name: 'Dr. Deepa Iyer',
    specialization: 'Gynecologist',
    hospital: 'Motherhood Women Care',
    rating: 4.9,
    distance: '0.9 km',
    reviewCount: 456,
    photoUrl: require('../assets/images/Gemini_Generated_Image_yfsoo9yfsoo9yfso.png'),
  },
  {
    id: '15',
    name: 'Dr. Anil Mehta',
    specialization: 'Pulmonologist',
    hospital: 'Chest & Respiratory Clinic Hyderabad',
    rating: 4.6,
    distance: '4.5 km',
    reviewCount: 189,
    photoUrl: require('../assets/images/Gemini_Generated_Image_qnnooiqnnooiqnno.png'),
  },
  {
    id: '16',
    name: 'Dr. Pooja Malhotra',
    specialization: 'ENT Specialist',
    hospital: 'Ear Nose Throat Centre Kolkata',
    rating: 4.8,
    distance: '2.2 km',
    reviewCount: 312,
    photoUrl: require('../assets/images/Gemini_Generated_Image_yfsoo9yfsoo9yfso.png'),
  },
  {
    id: '17',
    name: 'Dr. Karthik Rao',
    specialization: 'Oncologist',
    hospital: 'Tata Cancer Hospital',
    rating: 4.9,
    distance: '5.3 km',
    reviewCount: 234,
    photoUrl: require('../assets/images/Gemini_Generated_Image_g7c9efg7c9efg7c9.png'),
  },
  {
    id: '18',
    name: 'Dr. Shruti Bansal',
    specialization: 'Nephrologist',
    hospital: 'Kidney Care Hospital Jaipur',
    rating: 4.7,
    distance: '3.6 km',
    reviewCount: 201,
    photoUrl: require('../assets/images/Gemini_Generated_Image_264ied264ied264i.png'),
  },
  {
    id: '19',
    name: 'Dr. Manish Agarwal',
    specialization: 'Orthopedic Surgeon',
    hospital: 'Joint Replacement Centre Ahmedabad',
    rating: 4.8,
    distance: '1.4 km',
    reviewCount: 289,
    photoUrl: require('../assets/images/Gemini_Generated_Image_g7c9efg7c9efg7c9.png'),
  },
  {
    id: '20',
    name: 'Dr. Lakshmi Subramaniam',
    specialization: 'Dermatologist',
    hospital: 'Glow Skin Clinic Coimbatore',
    rating: 4.6,
    distance: '2.9 km',
    reviewCount: 267,
    photoUrl: require('../assets/images/Gemini_Generated_Image_yfsoo9yfsoo9yfso.png'),
  },
  {
    id: '21',
    name: 'Dr. Vishal Chopra',
    specialization: 'General Practitioner',
    hospital: 'Family Health Centre Chandigarh',
    rating: 4.5,
    distance: '1.1 km',
    reviewCount: 398,
    photoUrl: require('../assets/images/Gemini_Generated_Image_g7c9efg7c9efg7c9.png'),
  },
  {
    id: '22',
    name: 'Dr. Nisha Pillai',
    specialization: 'Pediatrician',
    hospital: 'Child Care Hospital Kochi',
    rating: 4.9,
    distance: '0.7 km',
    reviewCount: 441,
    photoUrl: require('../assets/images/Gemini_Generated_Image_264ied264ied264i.png'),
  },
  {
    id: '23',
    name: 'Dr. Rahul Bhat',
    specialization: 'Neurologist',
    hospital: 'Brain & Spine Centre Srinagar',
    rating: 4.7,
    distance: '4.8 km',
    reviewCount: 176,
    photoUrl: require('../assets/images/Gemini_Generated_Image_qnnooiqnnooiqnno.png'),
  },
  {
    id: '24',
    name: 'Dr. Madhuri Kulkarni',
    specialization: 'Gynecologist',
    hospital: 'Women Wellness Hospital Nagpur',
    rating: 4.8,
    distance: '2.4 km',
    reviewCount: 334,
    photoUrl: require('../assets/images/Gemini_Generated_Image_yfsoo9yfsoo9yfso.png'),
  },
  {
    id: '25',
    name: 'Dr. Suresh Babu',
    specialization: 'Cardiologist',
    hospital: 'Heart Care Institute Visakhapatnam',
    rating: 4.6,
    distance: '3.2 km',
    reviewCount: 278,
    photoUrl: require('../assets/images/Gemini_Generated_Image_qnnooiqnnooiqnno.png'),
  },
];

export const filterDoctors = (query: string): DoctorCardData[] => {
  if (!query.trim()) {
    return mockDoctors;
  }

  const lowerQuery = query.toLowerCase().trim();

  const matchingSpecializations = new Set<string>();
  Object.entries(diseaseToSpecialization).forEach(([disease, specializations]) => {
    if (disease.includes(lowerQuery) || lowerQuery.includes(disease)) {
      specializations.forEach(spec => matchingSpecializations.add(spec.toLowerCase()));
    }
  });

  return mockDoctors.filter((doctor) => {
    const nameMatch = doctor.name.toLowerCase().includes(lowerQuery);
    const hospitalMatch = doctor.hospital.toLowerCase().includes(lowerQuery);
    const specializationMatch = doctor.specialization.toLowerCase().includes(lowerQuery);
    const diseaseMatch = matchingSpecializations.has(doctor.specialization.toLowerCase());

    return nameMatch || hospitalMatch || specializationMatch || diseaseMatch;
  });
};
